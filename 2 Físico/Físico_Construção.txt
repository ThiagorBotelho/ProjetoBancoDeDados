CREATE TABLE PAISES (
    Nome VARCHAR2(80) NOT NULL,
    Continente VARCHAR2(80),
    CONSTRAINT PK_PAIS PRIMARY KEY (Nome)
);

CREATE TABLE SELECOES (
    Federacao VARCHAR2(50) NOT NULL,
    End_CodigoPostal VARCHAR2(20),
    End_Logradouro VARCHAR2(100),
    End_Numero VARCHAR2(10),
    Pais VARCHAR2(80) UNIQUE,
    CONSTRAINT PK_SELECAO PRIMARY KEY (Federacao),
    CONSTRAINT FK_PAIS_SELECAO FOREIGN KEY (Pais) REFERENCES PAISES (Nome)
);

CREATE TABLE TECNICOS (
    Federacao VARCHAR2(50) NOT NULL,
    Nome VARCHAR2(100) NOT NULL,
    Data_Nascimento DATE,
    CONSTRAINT PK_TECNICO PRIMARY KEY (Federacao),
    CONSTRAINT FK_TECNICO_SELECAO FOREIGN KEY (Federacao) REFERENCES SELECOES (Federacao)
);

CREATE TABLE CAMPEONATOS (
    Ano NUMBER(4) NOT NULL,
    CONSTRAINT PK_CAMPEONATO PRIMARY KEY (Ano)
);

CREATE TABLE EMISSORAS (
    Cadastro VARCHAR2(50),
    Nome VARCHAR2(100),
    CONSTRAINT PK_EMISSORA PRIMARY KEY (Cadastro)
);

CREATE TABLE CLUBES (
    Nome VARCHAR2(80) NOT NULL,
    Pais VARCHAR2(80) NOT NULL,
    CONSTRAINT FK_PAIS_CLUBE FOREIGN KEY (Pais) REFERENCES PAISES (Nome),
    CONSTRAINT PK_CLUBE PRIMARY KEY (Nome)
);

CREATE SEQUENCE seq_jogo
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;

CREATE TABLE JOGOS (
    Id INT NOT NULL,
    Data_Jogo DATE NOT NULL,
    Fase VARCHAR2(10) NOT NULL,
    Selecao_Mandante VARCHAR2(80) NOT NULL,
    Selecao_Visitante VARCHAR2(80) NOT NULL,
    CONSTRAINT FK_JOGO_SELECAO_MANDANTE FOREIGN KEY (Selecao_Mandante) REFERENCES SELECOES (Federacao),
    CONSTRAINT FK_JOGO_SELECAO_VISITANTE FOREIGN KEY (Selecao_Visitante) REFERENCES SELECOES (Federacao),
    CONSTRAINT PK_JOGO PRIMARY KEY (Id)
);

CREATE SEQUENCE seq_jogador
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;

CREATE TABLE JOGADORES (
    Id INT NOT NULL,
    Numero_Camisa NUMBER(2) NOT NULL,
    Nome VARCHAR2(80) NOT NULL,
    Federacao VARCHAR2(80) NOT NULL,
    Clube VARCHAR2(80),
    CONSTRAINT FK_JOGADOR_SELECAO FOREIGN KEY (Federacao) REFERENCES SELECOES (Federacao),
    CONSTRAINT FK_JOGADOR_TIME FOREIGN KEY (Clube) REFERENCES CLUBES (Nome),
    CONSTRAINT PK_JOGADOR PRIMARY KEY (Id)
);

CREATE TABLE REDES_SOCIAIS (
    Id INT NOT NULL,
    Rede_Social VARCHAR2(80) NOT NULL,
    Username VARCHAR2(80),
    CONSTRAINT FK_REDE_SOCIAL_JOGADOR FOREIGN KEY (Id) REFERENCES JOGADORES (Id),
    CONSTRAINT PK_REDE_SOCIAL PRIMARY KEY (Id, Rede_Social)
);

CREATE TABLE GOLEIROS (
    Id INT NOT NULL,
    Goleiro_Titular INT,
    CONSTRAINT PK_GOLEIRO PRIMARY KEY (Id),
    CONSTRAINT FK_GOLEIRO_JOGADOR FOREIGN KEY (Id) REFERENCES JOGADORES (Id),
    CONSTRAINT FK_GOLEIRO_TITULAR FOREIGN KEY (Goleiro_Titular) REFERENCES GOLEIROS (Id)
);

CREATE TABLE DE_LINHA (
    Id INT NOT NULL,
    Posicao VARCHAR2(30),
    CONSTRAINT PK_DE_LINHA PRIMARY KEY (Id),
    CONSTRAINT FK_DE_LINHA_JOGADOR FOREIGN KEY (Id) REFERENCES JOGADORES (Id)
);

CREATE TABLE PODIOS (
    Posicao NUMBER(1) NOT NULL,
    CONSTRAINT PK_PODIO PRIMARY KEY (Posicao)
);

CREATE TABLE COMPETIU (
    Federacao VARCHAR2(80),
    Ano NUMBER(4),
    Posicao NUMBER(1),
    CONSTRAINT PK_COMPETIU PRIMARY KEY (Federacao, Ano),
    CONSTRAINT FK_COMPETIU_SELECAO FOREIGN KEY (Federacao) REFERENCES SELECOES (Federacao),
    CONSTRAINT FK_COMPETIU_CAMPEONATO FOREIGN KEY (Ano) REFERENCES CAMPEONATOS (Ano),
    CONSTRAINT FK_COMPETIU_PODIO FOREIGN KEY (Posicao) REFERENCES PODIOS (Posicao)
);

CREATE TABLE TRANSMISSOES (
    Cadastro VARCHAR2(50) NOT NULL,
    Pais VARCHAR2(80) NOT NULL,
    Id INT NOT NULL,
    Plataforma VARCHAR2(50) NOT NULL,
    CONSTRAINT PK_TRANSMISSAO PRIMARY KEY (Cadastro, Pais, Id, Plataforma),
    CONSTRAINT FK_TRANSMISSAO_EMISSORA FOREIGN KEY (Cadastro) REFERENCES EMISSORAS (Cadastro),
    CONSTRAINT FK_TRANSMISSAO_PAIS FOREIGN KEY (Pais) REFERENCES PAISES (Nome),
    CONSTRAINT FK_TRANSMISSAO_JOGO FOREIGN KEY (Id) REFERENCES JOGOS (Id)
);
