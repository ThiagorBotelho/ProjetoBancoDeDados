CREATE TABLE PAIS (
    Nome VARCHAR2(80) NOT NULL,
    Continente VARCHAR2(80),
    CONSTRAINT PK_PAIS PRIMARY KEY (Nome)
);

CREATE TABLE SELECAO (
    Confederacao_Nacional VARCHAR2(50) NOT NULL,
    End_CodigoPostal VARCHAR2(20),
    End_Detalhe VARCHAR2(100),
    End_Numero VARCHAR2(10),
    Pais VARCHAR2(80) NOT NULL UNIQUE,
    CONSTRAINT PK_SELECAO PRIMARY KEY (Confederacao_Nacional),
    CONSTRAINT FK_PAIS_SELECAO FOREIGN KEY (Pais) REFERENCES PAIS (Nome)
);
CREATE TABLE TECNICO (
    Confederacao_Nacional VARCHAR2(50) NOT NULL,
    Nome VARCHAR2(100) NOT NULL,
    Data_Nascimento DATE,
    CONSTRAINT PK_TECNICO PRIMARY KEY (Confederacao_Nacional),
    CONSTRAINT FK_TECNICO_SELECAO FOREIGN KEY (Confederacao_Nacional) REFERENCES SELECAO (Confederacao_Nacional)
);

CREATE TABLE CAMPEONATO (
    Ano NUMBER(4) NOT NULL,
    CONSTRAINT PK_CAMPEONATO PRIMARY KEY (Ano)
);

CREATE TABLE EMISSORA (
    Cadastro_Empresa VARCHAR2(50),
    Nome VARCHAR2(100),
    CONSTRAINT PK_EMISSORA PRIMARY KEY (Cadastro_Empresa)
);

CREATE TABLE TIMES (
    Nome VARCHAR2(80) NOT NULL,
    Pais_Origem VARCHAR2(80) NOT NULL,
    CONSTRAINT FK_PAIS_TIMES FOREIGN KEY (Pais_Origem) REFERENCES PAIS (Nome),
    CONSTRAINT PK_TIMES PRIMARY KEY (Nome)
);

CREATE SEQUENCE seq_jogo
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;

CREATE TABLE JOGO (
    Id INT NOT NULL,
    Data_Jogo DATE NOT NULL,
    Fase VARCHAR2(10) NOT NULL,
    Selecao_Mandante VARCHAR2(80) NOT NULL,
    Selecao_Visitante VARCHAR2(80) NOT NULL,
    CONSTRAINT FK_JOGO_SELECAO_MANDANTE FOREIGN KEY (Selecao_Mandante) REFERENCES SELECAO (Confederacao_Nacional),
    CONSTRAINT FK_JOGO_SELECAO_VISITANTE FOREIGN KEY (Selecao_Visitante) REFERENCES SELECAO (Confederacao_Nacional),
    CONSTRAINT PK_JOGO PRIMARY KEY (Id)
);

CREATE SEQUENCE seq_jogador
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;

CREATE TABLE JOGADOR (
    Id INT NOT NULL,
    Numero_Camisa NUMBER(2) NOT NULL,
    Nome VARCHAR2(80) NOT NULL,
    Confederacao_Nacional VARCHAR2(80) NOT NULL,
    Nome_Time VARCHAR2(80),
    CONSTRAINT FK_JOGADOR_SELECAO FOREIGN KEY (Confederacao_Nacional) REFERENCES SELECAO (Confederacao_Nacional),
    CONSTRAINT FK_JOGADOR_TIME FOREIGN KEY (Nome_Time) REFERENCES TIMES (Nome),
    CONSTRAINT PK_JOGADOR PRIMARY KEY (Id)
);

CREATE TABLE REDE_SOCIAL (
    Id INT NOT NULL,
    Rede_Social VARCHAR2(80) NOT NULL,
    Username VARCHAR2(80),
    CONSTRAINT FK_REDE_SOCIAL_JOGADOR FOREIGN KEY (Id) REFERENCES JOGADOR (Id),
    CONSTRAINT PK_REDE_SOCIAL PRIMARY KEY (Id, Rede_Social)
);

CREATE TABLE GOLEIRO (
    Id INT NOT NULL,
    Goleiro_Titular INT,
    CONSTRAINT PK_GOLEIRO PRIMARY KEY (Id),
    CONSTRAINT FK_GOLEIRO_JOGADOR FOREIGN KEY (Id) REFERENCES JOGADOR (Id),
    CONSTRAINT FK_GOLEIRO_TITULAR FOREIGN KEY (Goleiro_Titular) REFERENCES GOLEIRO (Id)
);

CREATE TABLE DE_LINHA (
    Id INT NOT NULL,
    Posicao VARCHAR2(30),
    CONSTRAINT PK_DE_LINHA PRIMARY KEY (Id),
    CONSTRAINT FK_DE_LINHA_JOGADOR FOREIGN KEY (Id) REFERENCES JOGADOR (Id)
);



CREATE TABLE PODIO (
    Posicao NUMBER(1) NOT NULL,
    CONSTRAINT PK_PODIO PRIMARY KEY (Posicao)
);

CREATE TABLE COMPETIU (
    Confederacao_Nacional VARCHAR2(80),
    Ano NUMBER(4),
    Posicao_Podio NUMBER(1),
    CONSTRAINT PK_COMPETIU PRIMARY KEY (Confederacao_Nacional, Ano),
    CONSTRAINT FK_COMPETIU_SELECAO FOREIGN KEY (Confederacao_Nacional) REFERENCES SELECAO (Confederacao_Nacional),
    CONSTRAINT FK_COMPETIU_CAMPEONATO FOREIGN KEY (Ano) REFERENCES CAMPEONATO (Ano),
    CONSTRAINT FK_COMPETIU_PODIO FOREIGN KEY (Posicao_Podio) REFERENCES PODIO (Posicao)
);

CREATE TABLE TRANSMISSAO (
    Cadastro_Empresa VARCHAR2(50) NOT NULL,
    Nome_Pais VARCHAR2(80) NOT NULL,
    Id INT NOT NULL,
    Plataforma VARCHAR2(50) NOT NULL,
    CONSTRAINT PK_TRANSMISSAO PRIMARY KEY (Cadastro_Empresa, Nome_Pais, Id, Plataforma),
    CONSTRAINT FK_TRANSMISSAO_EMISSORA FOREIGN KEY (Cadastro_Empresa) REFERENCES EMISSORA (Cadastro_Empresa),
    CONSTRAINT FK_TRANSMISSAO_PAIS FOREIGN KEY (Nome_Pais) REFERENCES PAIS (Nome),
    CONSTRAINT FK_TRANSMISSAO_JOGO FOREIGN KEY (Id) REFERENCES JOGO (Id)
);
